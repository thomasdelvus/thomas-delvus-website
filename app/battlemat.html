    // Adjust to your actual endpoint path.
    // Common patterns:
    //   /api/battles/<id>
    //   /battle/<id>
    //   /battles/<id>
	function battleStateUrl(battleId) {
  	return `${API_BASE}/battles/${encodeURIComponent(battleId)}`;
	}


    // Lightweight diagnostics UI (so you can see instantly what the page thinks)
    function setDiag(html) {
      const box = document.getElementById('diagBox');
      if (!box) return;
      box.style.display = 'block';
      box.innerHTML = html;
    }
